{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref2","person","deletePerson","react_default","a","createElement","name","number","type","onClick","id","Persons","_ref","filter","map","Persons_Person","key","PersonForm","addPerson","nameState","numberState","onSubmit","value","onChange","Filter","handler","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","newPerson","put","Notification","message","includes","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","errorState","setError","useEffect","personService","filterNames","toLowerCase","components_Notification","components_Filter","event","console","log","target","components_PersonForm","preventDefault","added","some","foundPerson","find","window","confirm","updatePerson","objectSpread","newData","setTimeout","catch","error","components_Persons","filteredPerson","personId","personName","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fa70bf50.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({ filter, deletePerson }) => {\r\n  return (\r\n    filter.map(person =>\r\n      <Person key={person.name} person={person} deletePerson={deletePerson}\r\n      />\r\n    )\r\n  )\r\n}\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}  <button type=\"button\" onClick={() => deletePerson(person.id)}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react';\r\n\r\nconst PersonForm = ({addPerson, nameState, numberState}) => {\r\n    return (\r\n      <form onSubmit = {addPerson}>\r\n          <div>\r\n            name: <input value = {nameState[0]} onChange = {nameState[1]}/>\r\n          </div>\r\n          <div>\r\n            number: <input value = {numberState[0]} onChange = {numberState[1]}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Filter = ({filter, handler}) => {\r\n    return(\r\n      <div>\r\n        <form>\r\n          filter shown with <input value = {filter} onChange = {handler} />\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(baseUrl.concat(`/${id}`))\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newPerson) => {\r\n    const request = axios.put(baseUrl.concat(`/${newPerson.id}`), newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, update}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) return null;\r\n    if (message.includes('Error'))\r\n        return (\r\n            <div className='error'>\r\n                {message}\r\n            </div>\r\n        )\r\n    else\r\n        return (\r\n            <div className='notification'>\r\n                {message}\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default Notification","import { useState, useEffect } from 'react'\nimport React from 'react';\nimport Persons from \"./components/Persons\"\nimport PersonForm from \"./components/PersonForm\"\nimport Filter from \"./components/Filter\"\nimport personService from \"./services/persons\"\nimport Notification from \"./components/Notification\"\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [errorState, setError] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }, [])\n\n  const filterNames = persons.filter(person =>\n    person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const added = persons.some(person => person.name === newName)\n    const foundPerson = persons.find(person => person.name === newName)\n    if (added) {\n      if (window.confirm(`${foundPerson.name} is already added to phonebook, replace the old\n      number with a new one?`)) {\n        const updatePerson = { ...foundPerson, number: newNumber }\n        personService.update(updatePerson)\n          .then(newData => {\n            console.log(newData)\n            setPersons(persons.map(person => person.id === newData.id ? newData : person))\n            setError(`Updated ${newName}`)\n            setTimeout(() => {\n              setError(null)\n            }, 3000)\n            setNewName(\"\")\n            setNewNumber(\"\")\n          })\n          .catch(error => {\n            setError(`Error: ${error.response.data.error}`)\n            setTimeout(() => {\n              setError(null)\n            }, 5000)\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(data => {\n          setPersons(persons.concat(data))\n          setError(`Added ${newName}`)\n          setTimeout(() => {\n            setError(null)\n          }, 3000)\n          setNewName(\"\")\n          setNewNumber(\"\")\n        })\n        .catch(error => {\n          setError(`Error: New credentials are not valid`)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const deletePerson = id => {\n    const filteredPerson = persons.find(person => person.id === id)\n    const personId = filteredPerson.id\n    const personName = filteredPerson.name\n    if (window.confirm(`Delete ${personName} ?`) === true)\n      personService.remove(personId)\n        .then(newData => {\n          console.log(newData)\n          setPersons(persons.filter(person => person.id !== personId))\n          setError(`Deleted ${personName}`)\n          setTimeout(() => {\n            setError(null)\n          }, 3000)\n        })\n        .catch(error => {\n          setError(`Error: Information of ${personName} has already been removed from the server`)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorState} />\n      <Filter filter={filter} handler={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm addPerson={addPerson} nameState={[newName, handleNameChange]} numberState={[newNumber, handleNumberChange]} />\n      <h3>Numbers</h3>\n      <Persons filter={filterNames} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}